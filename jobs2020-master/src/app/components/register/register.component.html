<app-layout></app-layout>

<div class="container-fluid" style="background-color: #faf9f8;height: 100%;"  >
    <div class="container container-form" >
        <div class="row">
            <div class="col-md-offset-3 col-md-6">
                <div class="panel panel-default panel-login with-custom-form-control ">
                    <div class="panel-body">
                        <h4>
                            Créer un compte
                        </h4>
                        <hr>
                        <div *ngIf="incorrect" class="alert alert-danger">
                            Essayer une autre adresse e-mail !
                         </div>
                         <div class="form-group">
                            <label >Type de compte </label>
                            <select class="form-control"  (change)="change_form($event)">
                                <option  value="developer" [selected]="'true'">Développeur</option>
                                <option value="company"  >Entreprise</option>
                            </select>
                            
                          </div>
                        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" id="developer" >
                           
                            <div class="form-group">
                            <label >Nom d'utilisateur</label>
                            <input type="text" class="form-control" placeholder="Nom d'utilisateur " formControlName="name"  [ngClass]="{ 'is-invalid': submitted && f.name.errors }">
                            <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                                <div *ngIf="f.name.errors.required">Champ nom obligatoire !</div>
                            </div>
                            </div>
                            
                            <div class="form-group">
                                <label >Compétences</label>
                                <tag-input  formControlName="skills"  [ngClass]="{ 'is-invalid': submitted && f.skills.errors }" ></tag-input>
                                <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                                    <div *ngIf="f.skills.errors.required">Champ Compétences obligatoire !</div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label >Catégorie </label>
                                <select class="form-control" placeholder="Domaine " formControlName="category"  [ngClass]="{ 'is-invalid': submitted && f.category.errors }">
                                    <option  [selected]="'true'" disabled value="" >Selectionnez un domaine   </option>
                                    <option selected>Développement web</option>
                                  <option>Développement mobile</option>
                                  <option>Développement desktop</option>
                                  <option>Administration système</option>
                                  <option>Intelligence artificielle</option>
                                  <option>Big Data</option>
                                  <option>Autre</option>
                                </select>
                                <div *ngIf="submitted && f.category.errors" class="invalid-feedback">
                                    <div *ngIf="f.category.errors.required">Champ domaine obligatoire !</div>
                                </div>
                              </div>

                            <div class="form-group">
                              <label for="email">Email</label>
                              <input type="email" class="form-control" placeholder="Email" formControlName="email"  [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
                              <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                <div *ngIf="f.email.errors.required">Champ e-mail obligatoire !</div>
                                <div *ngIf="f.email.errors.email">Adresse e-mail non valide !</div>
                              </div>
                            </div>
                            <div class="form-group">
                              <label for="pwd">Password</label>
                              <input type="password" class="form-control" placeholder="Password" formControlName="password">
                              <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                                <div *ngIf="f.password.errors.required">Champ mot de passe obligatoire !</div>
                              </div>
                              
                            </div>
                            <button type="submit"   class="btn btn-default btn-lg btn-login"><i *ngIf="loading" class="fa fa-circle-notch fa-spin" ></i> Créer un compte</button>

                            <hr>
                            <a class="register" routerLinkActive="active" [routerLink]="['/login']" >
                                <div style="padding: 10px;">
                                    <p class="register" >Se connecter <i class="fa fa-long-arrow-right" aria-hidden="true"></i></p>
                                </div>
                            </a>
                        </form>
                       
                        <form [formGroup]="registerFormEntreprise" (ngSubmit)="onSubmitEntreprise()" id="company" style="display: none;">
                          
                            <div class="form-group">
                            <label >Nom d'entreprise</label>
                            <input type="text" class="form-control" placeholder="Nom d'entreprise " formControlName="name"  [ngClass]="{ 'is-invalid': submitted && fEntreprise.name.errors }">
                            <div *ngIf="submitted && fEntreprise.name.errors" class="invalid-feedback">
                                <div *ngIf="fEntreprise.name.errors.required">Champ nom obligatoire !</div>
                            </div>
                            </div>
                            
                           

                            <div class="form-group">
                              <label for="email">Email</label>
                              <input type="email" class="form-control" placeholder="Email" formControlName="email"  [ngClass]="{ 'is-invalid': submitted && fEntreprise.email.errors }">
                              <div *ngIf="submitted && fEntreprise.email.errors" class="invalid-feedback">
                                <div *ngIf="fEntreprise.email.errors.required">Champ e-mail obligatoire !</div>
                                <div *ngIf="fEntreprise.email.errors.email">Adresse e-mail non valide !</div>
                              </div>
                            </div>

                            <div class="form-group">
                              <label for="pwd">Password</label>
                              <input type="password" class="form-control" placeholder="Password" formControlName="password">
                              <div *ngIf="submitted && fEntreprise.password.errors" class="invalid-feedback">
                                <div *ngIf="fEntreprise.password.errors.required">Champ mot de passe obligatoire !</div>
                              </div>
                            </div>

                            <div class="form-group">
                              <label >Logo</label>
                              <input type="file" (change)="handleUpload($event)" accept="image/*" class="form-control"  formControlName="logo_company"  [ngClass]="{ 'is-invalid': submitted && fEntreprise.logo_company.errors }">
                              <div *ngIf="submitted && fEntreprise.logo_company.errors" class="invalid-feedback">
                                  <div *ngIf="fEntreprise.logo_company.errors.required">Champ logo obligatoire !</div>
                              </div>
                              </div>
                            
                              
                            <button type="submit"   class="btn btn-default btn-lg btn-login"><i *ngIf="loading" class="fa fa-circle-notch fa-spin" ></i> Créer un compte</button>

                            <hr>
                            <a class="register" routerLinkActive="active" [routerLink]="['/login']" >
                                <div style="padding: 10px;">
                                    <p class="register" >Se connecter <i class="fa fa-long-arrow-right" aria-hidden="true"></i></p>
                                </div>
                            </a>
                        </form>
                    </div>
                </div>
            </div>
        </div> 
    </div>
</div>