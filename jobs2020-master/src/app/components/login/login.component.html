<app-layout></app-layout>

<div class="container-fluid" style="background-color: #faf9f8;height: 91vh;"  >
    <div class="container container-form" >
        <div class="row">
            <div class="col-md-offset-3 col-md-6">
                <div class="panel panel-default panel-login">
                    <div class="panel-body">
                        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" >
                            <h4>
                                Se connecter
                            </h4>
                            <hr>
                            <div *ngIf="incorrect" class="alert alert-danger">
                                Login ou mot de passe incorrect !
                             </div>

                            <div class="form-group">
                              <label for="email">Email</label>
                              <input type="email" class="form-control" placeholder="Email" formControlName="email"  [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
                              <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                <div *ngIf="f.email.errors.required">Email is required</div>
                                <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
                              </div>
                            </div>
                            <div class="form-group">
                              <label for="pwd">Password</label>
                              <input type="password" class="form-control" placeholder="Password" formControlName="password">
                              <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                                <div *ngIf="f.password.errors.required">Password is required</div>
                              </div>
                              
                            </div>
                            <button type="submit"   [disabled]="loginForm.invalid" class="btn btn-default btn-lg btn-login"><i *ngIf="loading" class="fa fa-circle-notch fa-spin" ></i> Login</button>

                            <hr>
                            <a class="register" routerLinkActive="active" [routerLink]="['/register']" >
                                <div style="padding: 10px;">
                                    <p class="register" >Cr√©er un compte <i class="fa fa-long-arrow-right" aria-hidden="true"></i></p>
                                </div>
                            </a>
                        </form>
                    </div>
                </div>
            </div>
        </div> 
    </div>
</div>